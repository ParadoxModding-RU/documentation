# Эффекты
Эффекты (также известные как команды) используются для динамического воздействия на игру из определённого скоупа.  
  
Они используются на протяжении всей игры, чаще всего в национальных фокусах, событиях и решениях.  
  
Также важно понимать, что некоторые эффекты могут принимать значение из переменной, например: `add_manpower = my_var`, такие можно найти по <переменная> в примере использования.  
  
## Любая область действия
#### Основное
Эффект | Принимаемый параметр | Пример | Описание | Заметка
 --- | --- | --- | --- | --- |
set_global_flag | `<флаг>` <br>Уникальное название глобального флага | `set_global_flag = vsem_privet` | Устанавливает глобальный флаг | 
clr_global_flag | `<флаг>` <br>Уникальное название глобального флага | `clr_global_flag = vsem_privet` | Убирает(снимает) глобальный флаг |
modify_global_flag | `flag = <флаг>` <br>Уникальное название глобального флага<br>`value = <значение>`<br> Значение от 0 до 1 | `modify_global_flag = {`<br>`flag = vsem_privet`<br>`    value = 1`<br>`}` | Изменяет значение глобального флага | Лучше использовать переменные
play_song | `<название музыки из файла .asset>` <br> Название музыки из файла .asset | `play_song = "general_peace_1"` | Включает заданную музыку
custom_effect_tooltip | `<ключ локализации>` <br> Ключ локализации из файла локализации | `custom_effect_tooltip = eto_tooltip_tt` | Отображает текст из ключа локализации в качестве эффекта |
log | `Строка` <br>Строка для записи и вывода в консоль | `log = "Это текст! [?peremennaya] - а это переменная!"` | Выводит в консоль и в файл game.log заданный текст | Принимает все команды локализации по типу `[Root.GetName]`
sound_effect | `<название звукового эффекта>` <br> Звук из файла .asset | `sound_effect = "boom"` | Проигрывает заданный звуковой эффект, не останавливаясь музыку
break | `<никаких>` | `break = yes` | Останавливает выполнение эффектов в скоупе, где находится эта команда |
randomize_weather | `<сид>` <br> Цифровое значение сида | `randomize_weather = 13370` | Генерирует случайную погоду на основе цифрового значения(сида) |
set_province_name | `id = <провинция>` <br> Номер провинции<br>`name = <строка>`<br>Новое название для провинции |`set_province_name = {`<br>`    id = 288`<br>`    name = "НаЗвАнИе"`<br>`}` | Устанавливает название для провинции с победной точкой.| Для локализации названия можно использовать ключ локализации в `<строка>`
goto_province | `<провинция>` <br>Номер провинции | `goto_province = 999` | Перемещает камеру к заданной провинции
goto_state | `<стейт>`/`<переменная>` <br> Номер стейта или переменная с номером стейта | `goto_state = 466`<br>`goto_state = <переменная>` | Перемещает камеру к указанному региону
change_tag_from | `<скоуп>`/`<переменная>` <br> Страна с которой надо пересесть | `MON = { change_tag_from = ROOT }` <br> `MON = { change_tag_from = var:from.country }` | Меняет страну игрока из с указанной на страну, указанную в скоупе | Страна, на которую игрок будет перекину должна быть указана как скоуп (`MON` в примере)
#### Пограничный конфликт
Эффект | Принимаемый параметр | Пример | Описание | Заметка
 --- | --- | --- | --- | --- |
start_border_war | `change_state_after_war = <да/нет> `<br> Передавать ли владельца региона после окончания конфликта <br><br> **Скоуп атакующего:**<br> `state = <номер> / <переменная>` <br> Регион, откуда производится атака<br>`num_provinces = <число>`<br>Количество задействованных провинций в регионе<br>`on_win = <id ивента>`<br>Событие, которое появится у атакующего при победе<br>`on_lose = <id ивента>`<br>Событие, которое появится у атакующего при проигрыше<br>`on_cancel = <id ивента>`<br>Событие, которое появится у нападающего при отмене конфликта<br><br>**Скоуп защищающегося:** <br>`state = <номер> / <переменная>` <br> Регион, на который нападают<br>`num_provinces = <число>`<br>Количество задействованных провинций в регионе<br>`on_win = <id ивента>`<br>Событие, которое появится у защищающегося при победе<br>`on_lose = <id ивента>`<br>Событие, которое появится у защищающегося при проигрыше<br>`on_cancel = <id ивента>`<br>Событие, которое появится у защищающегося при отмене конфликта<br> |`start_border_war = {`<br>`    change_state_after_war = no`<br>`    attacker = {`<br>`        state = 527`<br>`        num_provinces = 4`<br>`        on_win = japan_border_conflict.2`<br>`        on_lose = japan_border_conflict.3`<br>`        on_cancel = japan_border_conflict.4`<br>`    }`<br><br>				`    defender = {`<br>`        state = 408`<br>`        num_provinces = 4`<br>`        on_win = japan_border_conflict.3`<br>`        on_lose = japan_border_conflict.2`<br>`        on_cancel = japan_border_conflict.4`<br>`    }`<br>`}`<br>|Начинает пограничный конфликт с заданным параметрами|
